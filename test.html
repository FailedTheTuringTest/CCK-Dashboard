<!DOCTYPE html>
<html lang="en">
<head>
    <title>News Test</title>
    <style>
        body { font-family: sans-serif; background-color: #222; color: #eee; }
        h1 { color: #ffa500; }
    </style>
</head>
<body>

    <h1>News Test Page</h1>
    <p>Attempting to fetch news...</p>
    <div id="news-results"></div>

    <script>
        const newsUrl = `https://api.rss2json.com/v1/api.json?rss_url=http%3A%2F%2Ffeeds.bbci.co.uk%2Fnews%2Fnorthern_ireland%2Frss.xml`;
        const resultsDiv = document.getElementById('news-results');

        fetch(newsUrl)
            .then(response => {
                // Check if the response was successful
                if (!response.ok) {
                    throw new Error(`Network response was not ok: ${response.statusText}`);
                }
                return response.json();
            })
            .then(data => {
                // If we get data, display it
                console.log('Success! Data received:', data);
                resultsDiv.innerHTML = '<h2>Success! News fetched.</h2>';
                let html = '';
                data.items.slice(0, 5).forEach(item => {
                    html += `<p><a href="${item.link}" target="_blank">${item.title}</a></p>`;
                });
                resultsDiv.innerHTML += html;
            })
            .catch(error => {
                // If there is an error, display it on the page and in the console
                console.error('Fetch Error:', error);
                resultsDiv.innerHTML = `<h2>Fetch Failed!</h2><p style="color:red;">Error: ${error.message}</p><p>This is likely caused by a browser extension (like an ad-blocker) or a network filter.</p>`;
            });
    </script>
</body>
</html>